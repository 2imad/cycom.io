<!DOCTYPE html>
<html>
  <head>
    <title>CYComm</title>
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="shortcut icon" href="/img/favicon.png" type="image/x-icon" />
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="centered-form">
      <div class="centered-form__box">
        <h1>CyComm</h1>
        <form id="joinForm">
          <label for="">Display name</label>
          <input
            autocomplete="off"
            type="text"
            name="username"
            placeholder="insert user name"
            required
          />
          <label for="">Room</label>
          <input
            autocomplete="off"
            type="text"
            name="room"
            required
            placeholder="Room"
          />
          <button type="submit">Join</button>
        </form>
      </div>
    </div>

    <script>
      const getFormData = event => {
        event.preventDefault();
        let $joinForm = document.forms.joinForm;
        const formData = new FormData($joinForm);
        const inputsData = {
          username: formData.get("username"),
          room: formData.get("room")
        };
        window.localStorage.setItem("userData", JSON.stringify(inputsData));
        location.href = "/chat.html";
      };
      document
        .querySelector("#joinForm")
        .addEventListener("submit", getFormData);
    </script>
  </body>
</html>
